<!doctype html>
<html lang="pl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Scrum Board ‚Äì Modular</title>
  <link rel="stylesheet" href="css/styles.css" />
</head>
<body>
  <header>
    <div class="brand">üåÄ Scrum Board</div>
    <div class="toolbar">
      <button class="btn-primary" id="newTaskBtn">+ Nowe zadanie</button>
      <button id="planSprintBtn">üìÜ Zaplanuj sprint</button>
      <button id="startStopSprintBtn">‚ñ∂Ô∏è Start sprintu</button>
      <button id="exportBtn" class="btn-ghost">‚§¥Ô∏é Export JSON</button>
      <button id="importBtn" class="btn-ghost">‚§µÔ∏é Import JSON</button>
      <span class="muted" id="sprintInfo"></span>
    </div>
  </header>

  <main class="layout">
    <!-- LEWA KOLUMNA -->
    <aside class="card panel">
      <h2>Backlog / Filtry</h2>
      <div class="row">
        <input id="search" placeholder="Szukaj po tytule, tagu, osobie‚Ä¶" />
      </div>
      <div class="row">
        <select id="assigneeFilter">
          <option value="">‚Äî Wszyscy ‚Äî</option>
        </select>
        <select id="tagFilter">
          <option value="">‚Äî Wszystkie tagi ‚Äî</option>
        </select>
      </div>
      <div id="backlog" class="backlog" aria-label="Backlog"></div>
    </aside>

    <!-- PRAWA KOLUMNA -->
    <section class="kanban">
      <div class="card panel grid two">
        <div>
          <h2>Burndown (Sprint)</h2>
          <canvas id="burndown"></canvas>
        </div>
        <div>
          <h2>Stand-up (Dzi≈õ)</h2>
          <form id="standupForm" class="grid">
            <input id="suWho" placeholder="Kto?" required />
            <textarea id="suYesterday" placeholder="Wczoraj zrobi≈Çem/am‚Ä¶" required></textarea>
            <textarea id="suToday" placeholder="Dzi≈õ zrobiƒô‚Ä¶" required></textarea>
            <textarea id="suBlockers" placeholder="Blokery‚Ä¶"></textarea>
            <button class="btn-primary" type="submit">Zapisz notatkƒô</button>
          </form>
          <div id="standupList"></div>
        </div>
      </div>

      <div class="card panel">
        <h2>Tablica Sprintu</h2>
        <div class="columns">
          <div class="column">
            <div class="col-header">
              <div>üìù To Do</div>
              <div class="muted" id="count-todo"></div>
            </div>
            <div class="dropzone" data-status="todo"></div>
          </div>

          <div class="column">
            <div class="col-header">
              <div>‚öôÔ∏è In Progress</div>
              <div class="muted" id="count-inprogress"></div>
            </div>
            <div class="dropzone" data-status="inprogress"></div>
          </div>

          <div class="column">
            <div class="col-header">
              <div>üîç Review</div>
              <div class="muted" id="count-review"></div>
            </div>
            <div class="dropzone" data-status="review"></div>
          </div>

          <div class="column">
            <div class="col-header">
              <div>‚úÖ Done</div>
              <div class="muted" id="count-done"></div>
            </div>
            <div class="dropzone" data-status="done"></div>
          </div>
        </div>
      </div>

      <div class="footer muted">Dane zapisujƒÖ siƒô lokalnie w przeglƒÖdarce (LocalStorage). ‚ú®</div>
    </section>
  </main>

  <!-- MODALE -->
  <dialog id="taskDialog">
    <form method="dialog" id="taskForm" class="panel" style="min-width:360px;">
      <h2 id="taskDialogTitle">Nowe zadanie</h2>
      <label>Tytu≈Ç</label>
      <input id="tTitle" required />
      <label>Opis</label>
      <textarea id="tDesc" rows="4"></textarea>
      <div class="row">
        <div class="grow">
          <label>Story points</label>
          <input id="tPoints" type="number" min="0" step="1" value="1" />
        </div>
        <div class="grow">
          <label>Assignee</label>
          <input id="tAssignee" placeholder="np. Ola" />
        </div>
      </div>
      <label>Tagi (przecinki)</label>
      <input id="tTags" placeholder="frontend, api" />
      <menu style="display:flex; gap:8px; justify-content:flex-end; margin-top:12px">
        <button value="cancel">Anuluj</button>
        <button class="btn-primary" value="save">Zapisz</button>
      </menu>
    </form>
  </dialog>

  <dialog id="sprintDialog">
    <form method="dialog" id="sprintForm" class="panel" style="min-width:360px;">
      <h2>Konfiguracja sprintu</h2>
      <label>Nazwa sprintu</label>
      <input id="sName" placeholder="Sprint 12" required />
      <div class="row">
        <div class="grow">
          <label>Start</label>
          <input id="sStart" type="date" required />
        </div>
        <div class="grow">
          <label>Koniec</label>
          <input id="sEnd" type="date" required />
        </div>
      </div>
      <menu style="display:flex; gap:8px; justify-content:flex-end; margin-top:12px">
        <button value="cancel">Anuluj</button>
        <button class="btn-primary" value="save">Zapisz</button>
      </menu>
    </form>
  </dialog>

  <script type="module" src="js/controller.js"></script>
</body>
</html>
